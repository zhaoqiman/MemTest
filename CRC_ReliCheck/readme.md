# 利用CRC校验实现对象存储可靠性检查

### 本脚本用于测量：
    存储出错，在CRC值中反应不出来的概率

    1.c 数据与CRC的RAM内存单元实际都可能异常。 (涵盖1.a 1.b)
        错码 与 错码的CRC(数bit再错) 实现hash对应。
        (假设待验证：byte内出错bit数越多，事件发生概率越低？)
        需要概率：byte中出现x位bit错误的概率Px。


    概率测量方式：给定原码 m ，根据错误bit概率，考察对应汉明距离的各码 a,b,c...。
                各自的校验码有 Cm, Ca，Cb，Cc ...。
                计算Cm与Ca,Cb，Cc...的汉明距离，即错误被错误掩盖的概率。


### 编写思路：
    指定数据位宽 width， bit失效率 BER
    1.  用md5生成随机数据x，作为原码。 其CRC值为 Cx。
    (2.0 x错误bit数为0, 即使crc有内存错误也一定能检出。略)
    2.  x错误bit数为1
        2.1 逐位bit翻转，生成所有可能的错误数据mList，计算各自的CRC值 CmList。(Cmlist元素个数等于width）
        2.2 考察Cx与CmList元素的汉明距离，即错误被掩盖的概率。( 0，1 两种情况，多比特错误概率极低)

            记：Cmlist中，汉明距离为0（碰撞元素）比例为k0， 为1的比例为k1

            数据x下，出错未检出概率 = p(xE=1)*( k0 + k1*BER )
    重复多次生成随机x，计算平均概率

测试量大，必须优化性能，多线程